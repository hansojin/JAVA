<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap" rel="stylesheet">
	<title>COFFEEREGISTER</title>
	<style>
		* {
			font-family: 'East Sea Dokdo', sans-serif;
		}

		body {
			width: 600px;
			margin: 0 auto;
		}

		#big {
			height: 250px;
			box-shadow: 1px 1px 2px gainsboro;
			outline: dashed 1px gainsboro;
			outline-offset: -7px;
		}

		#small {
			float: left;
			height: 80px;
			margin-top: 20px;
			margin-right: 5px;
			cursor: pointer;
		}

		#desc,
		#pic {
			float: left;
		}

		#desc {
			margin-left: 50px;
			font-size: 1.3em;
			line-height: 80%;
		}

		#price {
			font-weight: bold;
			color: blue;
		}

		#addToCart {
			height: 50px;
			width: 200px;
			font-size: 1.4em;
			margin-top: 10px;
			margin-bottom: 13px;
			cursor: pointer;
		}

		#infoDisplay {
			color: blue;
			font-size: 0.8em;
			cursor: pointer;
		}

		#info {
			clear: both;
			display: none;
		}

		#register {
			clear: both;
			display: none;
			margin-bottom: 80px;
			text-align: center;
		}

		#register>input {
			width: 200px;
			padding: 10px;
			border: none;
			border-bottom: 1px solid #ccc;
			font-size: 1.3em;
		}

		#register>button {
			width: 70px;
			border: 1px solid #ccc;
			border-radius: 7px;
			padding: 8px;
			margin-left: 20px;
			font-size: 1.2em;
		}

		#info>ul {
			list-style: none;
		}

		#productInfo,
		#productDesc,
		#registerTitle {
			color: grey;
		}

		#registerTitle {
			text-align: left;
		}

		hr {
			color: gainsboro;
		}

		#del {
			color: #ccc;
			background: transparent;
			float: right;
			margin-right: 10px;
		}

		#del:hover {
			color: black;
		}

		#nameList {
			font-size: 1.5em;
		}
	</style>
</head>

<body>
	<h1> &#9749;에디오피아 게뎁 &#9749;</h1>
	<div id='pic'>
		<img src='coffee-gray.jpg' id="big">
		<div id='smallPic'>
			<img src='coffee-gray.jpg' id='small'>
			<img src='coffee-blue.jpg' id='small'>
			<img src='coffee-pink.jpg' id='small'>
		</div>
	</div>
	<div id='desc'>
		<p>상품명 : 에디오피아 게뎁</p>
		<p id='price'>판매가 : 9,000원</p>
		<p>배송비 : 3,000원</p>
		<p>(50,000원 이상 구매시 무료)</p>
		<p>적립금 : 180원(2%)</p>
		<p>로스팅 : 2023.10.16</p>
		<button id="addToCart" onclick="registerDisplay()">장바구니 담기</button>
		<p id='infoDisplay'>상세 설명 열기</p>
	</div>

	<div id="info">
		<br>
		<hr>
		<h2 id='productInfo'>상품 상세 정보</h2>
		<ul>
			<li>- 원산지 : 에디오피아</li>
			<li>- 지 역 : 이르가체프 코체레</li>
			<li>- 농 장 : 게뎁</li>
			<li>- 고 도 : 1,950 ~ 2,000 m</li>
			<li>- 품 종 : 지역 토착종</li>
			<li>- 가공법 : 워시드</li>
		</ul>

		<h3 id='productDesc'>Information</h3>
		<p>2차 세계대전 이후 설립된 게뎁 농장은 유기농 인증 농장으로 여성의 고용 창출과 지역사회 발전에 기여하며 3대째 이어져 내려오는 오랜 역사를 가진 농장입니다. 게뎁 농장은 SCAA 인증을 받은
			커피 품질관리 실험실을 갖추고 있어 철처한 관리를 통해 스페셜티 커피를 생산합니다.</p>
		<h3 id='productDesc'>Flavor Note</h3>
		<p>은은하고 다채로운 꽃향, 망고, 다크 체리, 달달함이 입안 가득.</p>
	</div>

	<div id="register">
		<br>
		<hr>
		<h2 id="registerTitle">구매 신청</h2>
		<input id='registerName' type="text" placeholder="이름">
		<button onclick="addName(); return false;">신청</button>
		<div id="nameList"></div>
	</div>

	<script>
		const infoShow = document.querySelector("#infoDisplay");
		infoShow.addEventListener("click", function () {
			console.log(true);
			console.log(infoShow.innerText);
			if (infoShow.innerHTML == "상세 설명 열기") {
				info.style.display = "block";
				infoShow.innerText = "상세 설명 닫기";
			} else {
				info.style.display = "none";
				infoShow.innerText = "상세 설명 열기";
			}
		})

		const mainPic = document.querySelectorAll('#small');
		for (var i = 0; i < mainPic.length; i++) {
			mainPic[i].addEventListener('click', function () {
				var change = document.getElementById('big');
				change.src = this.src;
			});
		}
		function registerDisplay() {
			if (infoShow.innerHTML == "상세 설명 닫기") {
				info.style.display = "none";
				infoShow.innerText = "상세 설명 열기";
			}
			document.getElementById('register').style.display = "block";
		}

		function addName() {
			if (document.querySelector('#registerName').value.length == 0) {
				alert("Enter name");
			} else {
				var newP = document.createElement('p');
				var name = document.querySelector('#registerName');
				var nameText = document.createTextNode(name.value);
				newP.appendChild(nameText);


				var delBtn = document.createElement('span');
				var delText = document.createTextNode("X");
				delBtn.setAttribute("id", "del");
				delBtn.appendChild(delText);
				newP.appendChild(delBtn);

				var nameList = document.getElementById("nameList");
				nameList.insertBefore(newP, nameList.childNodes[0]);
				document.querySelector('#registerName').value = "";

				var removeBtn = document.querySelectorAll('#del');
				for (var i = 0; i < removeBtn.length; i++) {
					removeBtn[i].addEventListener('click', function () {
						console.log(this);				// #del _ name + del버튼
						console.log(this.parentNode);	// <p> name
						console.log(this.parentNode.parentNode);
						if (this.parentNode.parentNode)
							this.parentNode.parentNode.removeChild(this.parentNode);
						// name의 조상이 있다면, 조상.removeChild(삭제할 요소, 기준)
					})
				}
			}
		}

	</script>
</body>

</html>